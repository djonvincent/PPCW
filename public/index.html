<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Photobook</title>
        <script src="/js/redirect.js"></script>
        <link href="/favicon.png" rel="shortcut icon">
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <link rel="stylesheet" href="/open-iconic/font/css/open-iconic-bootstrap.min.css">
        <link rel="stylesheet" href="/styles/index.css">
		<link rel="manifest" href="/manifest.json">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<meta name="HandheldFriendly" content="true">
        <script src="/js/pulltorefresh.min.js"></script>
        <script src="/js/helper.js"></script>
    </head>
    <nav id="desktopNav" class="navbar fixed-top navbar-expand navbar-light bg-light">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link route" href="/">Feed</a>
            </li>
            <li class="nav-item">
                <a class="nav-link route" href="/upload">Upload</a>
            </li>
            <li class="nav-item">
                <a class="nav-link route" href="/profile/me">My Profile</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="logoutButton">Logout</a>
            </li>
        </ul>
        <form class="form-inline my-0">
            <input id="navSearchField" class="form-control" type="text" placeholder="Search">
            <div id="navSearchSpinner" class="spinner-border spinner-border-sm" style="display: none;"></div>
        </form>
    </nav>
    <div id="navSearchResults" class="rounded border float-right mr-3" style="display: none;"></div>
    <ul id="mobileNav" class="nav fixed-bottom bg-light">
        <li class="nav-item m-1">
            <a class="nav-link route" href="/">
                <span class="oi oi-home"></span>
            </a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link route" href="/search">
                <span class="oi oi-magnifying-glass"></span>
            </a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link route" href="/upload">
                <span class="oi oi-plus"></span>
            </a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link route" href="/profile/me">
                <span class="oi oi-person"></span>
            </a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link" id="logoutButtonMobile">
                <span class="oi oi-account-logout"></span>
            </a>
        </li>
    </ul>
    <div id="container">
        <div class="page" data-route="/" data-handler="feedHandler">
            <button class="btn" type="button" id="feedRefreshButton">
                <span class="oi oi-reload"></span>
            </button>
            <div id="feedSpinner" class="spinner-border large-spinner" style="display: none;"></div>
            <ul id="feed" class="photos"></ul>
        </div>
        <div class="page" data-route="/search">
            <input id="searchField" class="form-control" type="text" placeholder="Search">
            <div id="searchSpinner" class="spinner-border large-spinner" style="display: none;"></div>
            <ul id="searchResults" class="p-2"></ul>
        </div>
        <div class="page" data-route="/upload">
            <form id="uploadForm">
                <fieldset id="uploadFieldset">
                    <input id="uploadFile" class="d-none" type="file" accept="image/*">
                    <div id="uploadPreview">
                    </div>
                    <div class="form-group">
                        <textarea id="uploadDescription" class="form-control" rows="3" placeholder="Description"></textarea>
                    </div>
                    <button type="button" id="uploadChooseFileButton" class="btn btn-primary">
                            <span class="oi oi-image"></span>
                            Choose
                    </button>
                    <button id="uploadButton" class="btn btn-success" type="submit" disabled>
                        <span class="oi oi-data-transfer-upload"></span>
                        Upload
                    </button>
                </fieldset>
            </form>
            <div id="uploadLoadingScreen">
                <span class="oi oi-check"></span>
                <div class="spinner-border large-spinner"></div>
            </div>
        </div>
        <div class="page p-2" data-route="/profile/:username" data-handler="profileHandler">
            <h1 id="profileUsername">Loading...</h1>
            <p id="profileName"></p>
            <button type="button" class="btn btn-primary mb-3" id="profileFollowButton"></button>
            <div id="profilePhotos" class="photos"></div>
        </div>
        <div class="page" data-route="/photo/:id" data-handler="photoHandler">
            <div class="card border-0">
                <div class="photo" id="photoPhoto">
                    <img class="photo" id="photoImage" src="about:blank" alt="">
                </div>
                <div class="card-body">
                    <button id="photoLikeButton" type="button" class="like">
                        <span class="oi oi-heart"></span>
                    </button>
                    <p id="photoLikeText" class="card-text text-muted float-right m-1 mr-3"></p>
                    <p id="photoDescriptionStatic" class="card-text mb-1"></p>
                    <textarea placeholder="Description" rows="3" class="card-text mb-1 w-100 p-2" id="photoDescription"></textarea>
                    <p id="photoDate" class="card-text text-muted"></p>
                    <form id="photoEditForm">
                        <button id="photoEditButton" type="submit" class="btn btn-primary" disabled>
                            <span class="oi oi-pencil"></span>
                            Update
                        </button>
                        <button id="photoDeleteButton" type="button" class="btn btn-danger">
                            <span class="oi oi-trash"></span>
                            Delete
                        </button>
                    </form>
                    <p id="photoSavedChanges" class="mt-2">
                        <span class="oi oi-check text-success"></span>
                        All changes saved
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script src="/js/index.js"></script>
    <script src="/js/feed.js"></script>
    <script src="/js/search.js"></script>
    <script src="/js/upload.js"></script>
    <script src="/js/profile.js"></script>
    <script src="/js/photo.js"></script>
    <script src="/js/routes.js"></script>
</html>
